
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.3.1. Consistency between the raster and vector versions of the Randolph Glacier Inventory (RGI) dataset in the context of glaciological and hydrological applications &#8212; eqcbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Satellite_ECVs/Cryosphere/satellite_insitu-glaciers-extent_consistency-assessment_q02';</script>
    <link rel="icon" href="../../_static/C3S_favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.4. Land Biosphere" href="../Land_Biosphere/Land_Biosphere.html" />
    <link rel="prev" title="1.3. Cryosphere" href="Cryosphere.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">‚ö†Ô∏èThis is under development!‚ö†Ô∏è</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/C3S‚ÄìPOS‚ÄìLINE.png" class="logo__image only-light" alt="eqcbook - Home"/>
    <script>document.write(`<img src="../../_static/C3S‚ÄìPOS‚ÄìLINE.png" class="logo__image only-dark" alt="eqcbook - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    C3S EQC quality assessments
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Satellite Observations</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../satellite.html">1. Quality assessments for Satellite Observations</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../Atmosphere_Physics/Atmosphere_Physics.html">1.1. Atmosphere Physics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Atmospheric_Composition/Atmospheric_Composition.html">1.2. Atmospheric Composition</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="Cryosphere.html">1.3. Cryosphere</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">1.3.1. Consistency between the raster and vector versions of the Randolph Glacier Inventory (RGI) dataset in the context of glaciological and hydrological applications</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Land_Biosphere/Land_Biosphere.html">1.4. Land Biosphere</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Land_Hydrology/Land_Hydrology.html">1.5. Land Hydrology</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Ocean/Ocean.html">1.6. Ocean</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Insitu Observations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../In_Situ/insitu.html">2. Quality assessments for Insitu Observations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Reanalysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Reanalyses/reanalysis.html">3. Quality assessments for Reanalysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Seasonal Forecasts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Seasonal_Forecasts/seasonal.html">4. Quality assessments for Seasonal Forecasts</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Climate Projections</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Climate_Projections/climate.html">5. Quality assessments for Climate Projections</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Climate_Projections/CMIP6/CMIP6.html">5.1. CMIP6</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Climate_Projections/CORDEX/CORDEX.html">5.2. CORDEX</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Climate Indicators</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Indicators/indicator.html">6. Quality assessments for Climate Indicators</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Derived Datasets</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Derived_Datasets/derived.html">7. Quality assessments for Derived Datasets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">‚û°Ô∏è Applications</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Applications/application.html">8. Quality assessments for C3S Applications</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quality assessment template</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../templates/template_instructions.html">Template instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../templates/template.html">Template</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ecmwf-projects/c3s2-eqc-quality-assessment" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ecmwf-projects/c3s2-eqc-quality-assessment/issues/new?title=Issue%20on%20page%20%2FSatellite_ECVs/Cryosphere/satellite_insitu-glaciers-extent_consistency-assessment_q02.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Satellite_ECVs/Cryosphere/satellite_insitu-glaciers-extent_consistency-assessment_q02.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Consistency between the raster and vector versions of the Randolph Glacier Inventory (RGI) dataset in the context of glaciological and hydrological applications</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-case-assessing-the-spatial-distribution-of-glaciers-and-the-total-glacier-area-in-the-context-of-water-resource-management-at-the-local-regional-and-global-scale">üåç Use case: Assessing the spatial distribution of glaciers and the total glacier area in the context of water resource management at the local, regional, and global scale</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assessment-question">‚ùì Quality assessment question</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assessment-statements">üì¢ Quality assessment statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methodology">üìã Methodology</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-description">Dataset description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-and-sub-sections">Structure and (sub)sections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-and-results">üìà Analysis and results</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preparation-and-processing">1. Data preparation and processing</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#import-packages">1.1 Import packages</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#define-request-and-download">1.2 Define request and download</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#display-and-inspect-data">1.3 Display and inspect data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spatial-distribution-of-glaciers-and-glacier-area">2. Spatial distribution of glaciers and glacier area</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pixel-by-pixel-fractional-glacierized-area-in-the-raster-data">2.1 Pixel-by-pixel fractional glacierized area in the raster data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pixel-by-pixel-absolute-glacierized-area-in-the-raster-data">2.2 Pixel-by-pixel absolute glacierized area in the raster data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#individual-glacier-area-in-the-vector-data">2.3 Individual glacier area in the vector data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regional-and-global-comparison-of-the-vector-and-raster-product">3. Regional and global comparison of the vector and raster product</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#quantification-of-global-glacier-area-differences">3.1 Quantification of global glacier area differences</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#regional-glacier-area-differences-between-raster-and-vector-data">3.2 Regional glacier area differences between raster and vector data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#short-summary-and-take-home-messages">4. Short summary and take-home messages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-if-you-want-to-know-more">‚ÑπÔ∏è If you want to know more</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-resources">Key resources</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><img alt="logo" src="../../_images/LogoLine_horizon_C3S1.png" /></p>
<div class="alert alert-block alert-warning">
Please note that this repository is used for development and review, so quality assessments should be considered work in progress until they are merged into the main branch
</div><section class="tex2jax_ignore mathjax_ignore" id="consistency-between-the-raster-and-vector-versions-of-the-randolph-glacier-inventory-rgi-dataset-in-the-context-of-glaciological-and-hydrological-applications">
<h1><span class="section-number">1.3.1. </span>Consistency between the raster and vector versions of the Randolph Glacier Inventory (RGI) dataset in the context of glaciological and hydrological applications<a class="headerlink" href="#consistency-between-the-raster-and-vector-versions-of-the-randolph-glacier-inventory-rgi-dataset-in-the-context-of-glaciological-and-hydrological-applications" title="Link to this heading">#</a></h1>
<p>Production date: 31-05-2025</p>
<p>Dataset version: 7.0</p>
<p>Produced by: Yoni Verhaegen and Philippe Huybrechts (Vrije Universiteit Brussel)</p>
<section id="use-case-assessing-the-spatial-distribution-of-glaciers-and-the-total-glacier-area-in-the-context-of-water-resource-management-at-the-local-regional-and-global-scale">
<h2>üåç Use case: Assessing the spatial distribution of glaciers and the total glacier area in the context of water resource management at the local, regional, and global scale<a class="headerlink" href="#use-case-assessing-the-spatial-distribution-of-glaciers-and-the-total-glacier-area-in-the-context-of-water-resource-management-at-the-local-regional-and-global-scale" title="Link to this heading">#</a></h2>
</section>
<section id="quality-assessment-question">
<h2>‚ùì Quality assessment question<a class="headerlink" href="#quality-assessment-question" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>‚ÄúHow do glacier areas calculated from vector data compare to those calculated from the raster version of the data, and what does this comparison reveal about the quality and consistency of the glacier extent dataset?‚Äù</strong></p></li>
</ul>
<p>Glaciers are a major contributor to current global sea-level rise, a resource of fresh water, a potential threat of natural hazards, an important factor for hydro-power production, recreation and tourism. A proper assessment of glacier areas, glacier characteristics, as well as their changes due to warming climatic conditions therefore plays a crucial role in dealing with these issues. In that regard, the ‚Äú<a class="reference external" href="https://cds.climate.copernicus.eu/datasets/insitu-glaciers-extent?tab=overview" rel="noreferrer" target="_blank">Glaciers distribution data from the Randolph Glacier Inventory (RGI) for year 2000</a>‚Äù (here we use version 7.0) dataset on the Climate Data Store (CDS) provides key information with respect to glacier extent and their characteristics. The RGI v7.0 dataset, available on the Climate Data Store, is the most comprehensive global dataset for glacier outlines around the year 2000, offering both vector (polygon) and raster (gridded) formats. The RGI dataset is a collection of digital glacier and ice cap outlines at the global scale, nominally provided for the year 2000 [<a class="reference external" href="https://www.glims.org/RGI/randolph60.html" rel="noreferrer" target="_blank">1</a>, <a class="reference external" href="https://doi.org/10.3189/2014JoG13J176" rel="noreferrer" target="_blank">2</a>]. The data are available in both vector (a shapefile with polygons of individual glacier outlines) and raster (as gridded data with the aggregated fractional glacier areas per pixel) format. As it is the most complete dataset of glacier extent data with a global coverage, researchers often take this data to represent the current state of all glaciers. This notebook investigates the dataset‚Äôs consistency by comparing the total regional and global glacier surface area between the vector (polygons) and raster (gridded data) version of the data.</p>
</section>
<section id="quality-assessment-statements">
<h2>üì¢ Quality assessment statements<a class="headerlink" href="#quality-assessment-statements" title="Link to this heading">#</a></h2>
<div class="note admonition">
<p class="admonition-title">These are the key outcomes of this assessment</p>
<ul class="simple">
<li><p>Glacier area data in the RGI dataset are present in both vector (polygons) and raster (gridded) formats. The primary goal of RGI is to provide consistent, static glacier outlines for climatological, hydrological, and glaciological applications at regional to global scales. It is not primarily intended for localized studies (e.g. for single, individual glaciers) or for glacier area change detection. Glacier outlines at such larger spatial scales can hence serve as baseline input for key applications such as mass balance or run-off modeling, ice thickness estimates, and climate sensitivity assessments. In that regard, the vector version of the dataset contains the data in polygon format (i.e. shape files for Geographic Information Systems), but the raster data are typically more practical for modelling efforts.</p></li>
<li><p>While both formats are suitable for visualizing and quantifying glacier areas at local, regional, and global scales, the raster data require users to calculate absolute glacier areas from fractional values without the corresponding absolute surface area of a certain grid cell provided. Even though the resulting total regional/global glacier areas in both data formats agree relatively well, notable discrepancies between the two formats exist in some regions (particularly in the southern Asian/Himalayan region). These differences (partly) arise from methodological differences in calculating absolute glacier areas in both product versions. Global area differences may arise due to the spherical Earth assumption when calculating absolute glacier areas for the raster dataset in this notebook, while regional differences could be caused by a misassignment of coarse raster pixels to an incorrect bordering RGI region.</p></li>
</ul>
</div>
</section>
<section id="methodology">
<h2>üìã Methodology<a class="headerlink" href="#methodology" title="Link to this heading">#</a></h2>
<section id="dataset-description">
<h3>Dataset description<a class="headerlink" href="#dataset-description" title="Link to this heading">#</a></h3>
<p>The dataset of the glaciers distribution on the Climate Data Store (CDS) is an almost complete collection of digital glacier and ice cap outlines and their geometrical/hypsometrical characteristics from various data sources at the global scale [<a class="reference external" href="https://www.glims.org/RGI/randolph60.html" rel="noreferrer" target="_blank">1</a>, <a class="reference external" href="https://doi.org/10.3189/2014JoG13J176" rel="noreferrer" target="_blank">2</a>]. The dataset on the CDS is considered a snapshot of glacier outlines around the year 2000, assembled mainly from satellite images, and is based on the Randolph Glacier Inventory (RGI), which is currently the most complete dataset of glacier outlines. Simply stated, the glaciers in the dataset were automatically classified using the distinctive spectral reflectance signatures of bedrock, snow and ice. During post-processing, raw glacier outlines are quality checked and manually corrected if required (e.g. in the case of a supraglacial debris cover). The vector part of the dataset divides the glaciers into separate RGI regions, i.e. there are 19 of those regions (‚Äúclusters‚Äù of glaciers) in RGIv7.0. The raster version of the data contains aggregated fractional glacier areas for each pixel of 1 by 1 degree but does not provide sufficient information to classify glaciers into distinct RGI regions. For a more detailed description of the data acquisition and processing methods, we refer to the <a class="reference external" href="https://cds.climate.copernicus.eu/datasets/insitu-glaciers-extent?tab=overview" rel="noreferrer" target="_blank">documentation on the CDS</a> and the <a class="reference external" href="https://confluence.ecmwf.int/display/CKB/Glacier+Area" rel="noreferrer" target="_blank">ECMWF Confluence Wiki</a> (Copernicus Knowledge Base).</p>
</section>
<section id="structure-and-sub-sections">
<h3>Structure and (sub)sections<a class="headerlink" href="#structure-and-sub-sections" title="Link to this heading">#</a></h3>
<p><strong><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1"><span class="std std-ref">1. Data preparation and processing</span></a></strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-1"><span class="std std-ref">1.1 Import packages</span></a></p></li>
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-2"><span class="std std-ref">1.2 Define request and download</span></a></p></li>
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-3"><span class="std std-ref">1.3 Display and inspect data</span></a></p></li>
</ul>
<p><strong><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2"><span class="std std-ref">2. Spatial distribution of glaciers and glacier area</span></a></strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-1"><span class="std std-ref">2.1 Pixel-by-pixel fractional glacierized area in the raster data</span></a></p></li>
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-2"><span class="std std-ref">2.2 Pixel-by-pixel absolute glacierized area in the raster data</span></a></p></li>
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-3"><span class="std std-ref">2.3 Individual glacier area in the vector data</span></a></p></li>
</ul>
<p><strong><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3"><span class="std std-ref">3. Regional and global comparison of the vector and raster product</span></a></strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3-1"><span class="std std-ref">3.1 Quantification of global glacier area differences</span></a></p></li>
<li><p><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3-2"><span class="std std-ref">3.2 Regional glacier area differences between raster and vector data</span></a></p></li>
</ul>
<p><strong><a class="reference internal" href="#satellite-insitu-glaciers-extent-consistency-assessment-q02-section-4"><span class="std std-ref">4. Short summary and take-home messages</span></a></strong></p>
</section>
</section>
<section id="analysis-and-results">
<h2>üìà Analysis and results<a class="headerlink" href="#analysis-and-results" title="Link to this heading">#</a></h2>
<section id="data-preparation-and-processing">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1"></span><h3>1. Data preparation and processing<a class="headerlink" href="#data-preparation-and-processing" title="Link to this heading">#</a></h3>
<section id="import-packages">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-1"></span><h4>1.1 Import packages<a class="headerlink" href="#import-packages" title="Link to this heading">#</a></h4>
<p>First we load the packages:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">fsspec</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpl</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">cartopy.crs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ccrs</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">cartopy.feature</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cfeature</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mticker</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cartopy.mpl.gridliner</span><span class="w"> </span><span class="kn">import</span> <span class="n">LONGITUDE_FORMATTER</span><span class="p">,</span> <span class="n">LATITUDE_FORMATTER</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xesmf</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xe</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">c3s_eqc_automatic_quality_control</span><span class="w"> </span><span class="kn">import</span> <span class="n">download</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;seaborn-v0_8-notebook&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="define-request-and-download">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-2"></span><h4>1.2 Define request and download<a class="headerlink" href="#define-request-and-download" title="Link to this heading">#</a></h4>
<p>Then we define requests for download from the CDS and download the data.</p>
<p>üö® <strong>The files can be large! Since the data files to be downloaded and manipulated have a considerable size, this may take a couple of minutes.</strong><br />
üö® <strong>Insert the correct RGI version number to be downloaded below:</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">########## SELECT THE RGI VERSION TO DOWNLOAD #############</span>
<span class="n">rgi_version</span> <span class="o">=</span> <span class="mf">7.0</span>  <span class="c1"># Change this as needed</span>
<span class="c1">###########################################################</span>

<span class="c1"># Select correct column names based on RGI version</span>
<span class="k">if</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">6.0</span><span class="p">:</span>
    <span class="n">lon_col</span><span class="p">,</span> <span class="n">lat_col</span> <span class="o">=</span> <span class="s2">&quot;CENLON&quot;</span><span class="p">,</span> <span class="s2">&quot;CENLAT&quot;</span>
<span class="k">elif</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">7.0</span><span class="p">:</span>
    <span class="n">lon_col</span><span class="p">,</span> <span class="n">lat_col</span> <span class="o">=</span> <span class="s2">&quot;cenlon&quot;</span><span class="p">,</span> <span class="s2">&quot;cenlat&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported RGI version.&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Downloading and handling glacier extent data from the CDS, this may take a couple of minutes...&quot;</span><span class="p">)</span>

<span class="c1"># Glacier extent data (raster)</span>
<span class="n">request_extent_gridded</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;insitu-glaciers-extent&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="s2">&quot;glacier_area&quot;</span><span class="p">,</span>
        <span class="s2">&quot;product_type&quot;</span><span class="p">:</span> <span class="s2">&quot;gridded&quot;</span><span class="p">,</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;rgi_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">)</span><span class="si">}</span><span class="s2">_0&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Get glacier extent gridded data</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">download</span><span class="o">.</span><span class="n">download_and_transform</span><span class="p">(</span><span class="o">*</span><span class="n">request_extent_gridded</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Download glacier extent data (raster) completed.&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Now for the vector data...&quot;</span><span class="p">)</span>
<span class="c1"># Glacier extent data (vector)</span>
<span class="n">request_extent</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;insitu-glaciers-extent&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;glacier_area&quot;</span><span class="p">],</span>
        <span class="s2">&quot;product_type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;vector&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;rgi_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">)</span><span class="si">}</span><span class="s2">_0&quot;</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">download</span><span class="o">.</span><span class="n">download_and_transform</span><span class="p">(</span><span class="o">*</span><span class="n">request_extent</span><span class="p">)</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>

<span class="c1"># Use the selected column names for geometry</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">lon_col</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">lat_col</span><span class="p">]),</span>
    <span class="n">crs</span><span class="o">=</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Downloading and handling glacier extent data (vector) completed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading and handling glacier extent data from the CDS, this may take a couple of minutes...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00&lt;00:00, 10.87it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Download glacier extent data (raster) completed.
Now for the vector data...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00&lt;00:00, 21.20it/s]
                                             
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading and handling glacier extent data (vector) completed.
</pre></div>
</div>
</div>
</div>
</section>
<section id="display-and-inspect-data">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-1-3"></span><h4>1.3 Display and inspect data<a class="headerlink" href="#display-and-inspect-data" title="Link to this heading">#</a></h4>
<p>Lastly, we can read and inspect the data. Let us print out the raster data to inspect its structure:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in notebooks */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
  line-height: 1.6;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-obj-name,
.xr-group-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-group-name::before {
  content: "üìÅ";
  padding-right: 0.3em;
}

.xr-group-name,
.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
  margin-block-start: 0;
  margin-block-end: 0;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
  margin: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "‚ñ∫";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "‚ñº";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-top: 4px;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-group-box {
  display: inline-grid;
  grid-template-columns: 0px 20px auto;
  width: 100%;
}

.xr-group-box-vline {
  grid-column-start: 1;
  border-right: 0.2em solid;
  border-color: var(--xr-border-color);
  width: 0px;
}

.xr-group-box-hline {
  grid-column-start: 2;
  grid-row-start: 1;
  height: 1em;
  width: 20px;
  border-bottom: 0.2em solid;
  border-color: var(--xr-border-color);
}

.xr-group-box-contents {
  grid-column-start: 3;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 249kB
Dimensions:       (latitude: 170, longitude: 360)
Coordinates:
  * latitude      (latitude) float64 1kB 84.5 83.5 82.5 ... -82.5 -83.5 -84.5
  * longitude     (longitude) float64 3kB -179.5 -178.5 -177.5 ... 178.5 179.5
Data variables:
    Glacier_area  (latitude, longitude) float32 245kB dask.array&lt;chunksize=(128, 128), meta=np.ndarray&gt;
Attributes: (12/15)
    Source_Software:            Esri ArcGIS
    NCO:                        netCDF Operators version 4.9.1 (Homepage = ht...
    title:                      Randolph Glacier Inventory v7.0 (RGI 7.0) gri...
    project:                    Copernicus Climate Change Service (C3S) Essen...
    data_version:               version 7.0
    institution:                Department of Geography - University of Zuric...
    ...                         ...
    geospatial_lon_resolution:  1.0
    geospatial_lat_resolution:  1.0
    references:                 Pfeffer et al. (2014) doi.org/10.3189/2014JoG...
    citation:                   RGI 7.0 Consortium, 2023. Randolph Glacier In...
    Conventions:                CF Version CF-1.0
    comment:                    Brief data description: Temporal resolution: ...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-7c212957-adc5-4176-9838-b129e462df87' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-7c212957-adc5-4176-9838-b129e462df87' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>latitude</span>: 170</li><li><span class='xr-has-index'>longitude</span>: 360</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-6d020a16-6fc8-4e17-866b-c6b1cb1822ca' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6d020a16-6fc8-4e17-866b-c6b1cb1822ca' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>84.5 83.5 82.5 ... -83.5 -84.5</div><input id='attrs-4b8ec723-f8db-4718-a802-2540f6dd92d8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4b8ec723-f8db-4718-a802-2540f6dd92d8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d61e4155-170a-4d97-8068-10854bca8178' class='xr-var-data-in' type='checkbox'><label for='data-d61e4155-170a-4d97-8068-10854bca8178' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>valid_min :</span></dt><dd>-84.5</dd><dt><span>valid_max :</span></dt><dd>84.5</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>positive :</span></dt><dd>North</dd><dt><span>type :</span></dt><dd>double</dd><dt><span>out_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([ 84.5,  83.5,  82.5,  81.5,  80.5,  79.5,  78.5,  77.5,  76.5,  75.5,
        74.5,  73.5,  72.5,  71.5,  70.5,  69.5,  68.5,  67.5,  66.5,  65.5,
        64.5,  63.5,  62.5,  61.5,  60.5,  59.5,  58.5,  57.5,  56.5,  55.5,
        54.5,  53.5,  52.5,  51.5,  50.5,  49.5,  48.5,  47.5,  46.5,  45.5,
        44.5,  43.5,  42.5,  41.5,  40.5,  39.5,  38.5,  37.5,  36.5,  35.5,
        34.5,  33.5,  32.5,  31.5,  30.5,  29.5,  28.5,  27.5,  26.5,  25.5,
        24.5,  23.5,  22.5,  21.5,  20.5,  19.5,  18.5,  17.5,  16.5,  15.5,
        14.5,  13.5,  12.5,  11.5,  10.5,   9.5,   8.5,   7.5,   6.5,   5.5,
         4.5,   3.5,   2.5,   1.5,   0.5,  -0.5,  -1.5,  -2.5,  -3.5,  -4.5,
        -5.5,  -6.5,  -7.5,  -8.5,  -9.5, -10.5, -11.5, -12.5, -13.5, -14.5,
       -15.5, -16.5, -17.5, -18.5, -19.5, -20.5, -21.5, -22.5, -23.5, -24.5,
       -25.5, -26.5, -27.5, -28.5, -29.5, -30.5, -31.5, -32.5, -33.5, -34.5,
       -35.5, -36.5, -37.5, -38.5, -39.5, -40.5, -41.5, -42.5, -43.5, -44.5,
       -45.5, -46.5, -47.5, -48.5, -49.5, -50.5, -51.5, -52.5, -53.5, -54.5,
       -55.5, -56.5, -57.5, -58.5, -59.5, -60.5, -61.5, -62.5, -63.5, -64.5,
       -65.5, -66.5, -67.5, -68.5, -69.5, -70.5, -71.5, -72.5, -73.5, -74.5,
       -75.5, -76.5, -77.5, -78.5, -79.5, -80.5, -81.5, -82.5, -83.5, -84.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-179.5 -178.5 ... 178.5 179.5</div><input id='attrs-f053f069-c341-469d-9c46-6a0ee02c25fd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f053f069-c341-469d-9c46-6a0ee02c25fd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-922ca154-8687-4b11-b15a-ecb2f1e10e41' class='xr-var-data-in' type='checkbox'><label for='data-922ca154-8687-4b11-b15a-ecb2f1e10e41' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>valid_min :</span></dt><dd>-179.5</dd><dt><span>valid_max :</span></dt><dd>179.5</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>positive :</span></dt><dd>East</dd><dt><span>type :</span></dt><dd>double</dd><dt><span>out_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([-179.5, -178.5, -177.5, ...,  177.5,  178.5,  179.5], shape=(360,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4df1f2ac-24fa-4363-a01f-9849de2b9da6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4df1f2ac-24fa-4363-a01f-9849de2b9da6' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>Glacier_area</span></div><div class='xr-var-dims'>(latitude, longitude)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(128, 128), meta=np.ndarray&gt;</div><input id='attrs-d2c2c747-9e03-432f-a608-ef086fd165fe' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d2c2c747-9e03-432f-a608-ef086fd165fe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d8a19cf7-06a8-4224-ab75-43bb2bf75b3f' class='xr-var-data-in' type='checkbox'><label for='data-d8a19cf7-06a8-4224-ab75-43bb2bf75b3f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>esri_pe_string :</span></dt><dd>GEOGCS[&quot;GCS_WGS_1984&quot;,DATUM[&quot;D_WGS_1984&quot;,SPHEROID[&quot;WGS_1984&quot;,6378137.0,298.257223563]],PRIMEM[&quot;Greenwich&quot;,0.0],UNIT[&quot;Degree&quot;,0.0174532925199433]]</dd><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>Glacier_area_%</dd><dt><span>long_name :</span></dt><dd>Glacier_area_%</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 239.06 kiB </td>
                        <td> 64.00 kiB </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (170, 360) </td>
                        <td> (128, 128) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 6 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="106" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" />
  <line x1="0" y1="56" x2="120" y2="56" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="56" style="stroke-width:2" />
  <line x1="42" y1="0" x2="42" y2="56" />
  <line x1="85" y1="0" x2="85" y2="56" />
  <line x1="120" y1="0" x2="120" y2="56" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,56.66666666666666 0.0,56.66666666666666" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="76.666667" font-size="1.0rem" font-weight="100" text-anchor="middle" >360</text>
  <text x="140.000000" y="28.333333" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,28.333333)">170</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-332e73da-9b18-4861-8b29-84e815a615ab' class='xr-section-summary-in' type='checkbox'  ><label for='section-332e73da-9b18-4861-8b29-84e815a615ab' class='xr-section-summary' >Attributes: <span>(15)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Source_Software :</span></dt><dd>Esri ArcGIS</dd><dt><span>NCO :</span></dt><dd>netCDF Operators version 4.9.1 (Homepage = http://nco.sf.net, Code = http://github.com/nco/nco)</dd><dt><span>title :</span></dt><dd>Randolph Glacier Inventory v7.0 (RGI 7.0) gridded 1 deg per cent</dd><dt><span>project :</span></dt><dd>Copernicus Climate Change Service (C3S) Essential Climate Variable products derived from observations 
 C3S2_312a Lot No 4: Land Hydrology and Cryosphere</dd><dt><span>data_version :</span></dt><dd>version 7.0</dd><dt><span>institution :</span></dt><dd>Department of Geography - University of Zurich - Zurich - Switzerland</dd><dt><span>created_by :</span></dt><dd>Dr. Frank Paul   frank.paul@geo.uzh.ch</dd><dt><span>source :</span></dt><dd>Brokered from https://nsidc.org/data/nsidc-0770/versions/7</dd><dt><span>license :</span></dt><dd>CC BY 4.0</dd><dt><span>geospatial_lon_resolution :</span></dt><dd>1.0</dd><dt><span>geospatial_lat_resolution :</span></dt><dd>1.0</dd><dt><span>references :</span></dt><dd>Pfeffer et al. (2014) doi.org/10.3189/2014JoG13J176</dd><dt><span>citation :</span></dt><dd>RGI 7.0 Consortium, 2023. Randolph Glacier Inventory - A Dataset of Global Glacier Outlines, Version 7.0. Boulder, Colorado USA. NSIDC: National Snow and Ice Data Center; doi.org/10.5067/f6jmovy5navz</dd><dt><span>Conventions :</span></dt><dd>CF Version CF-1.0</dd><dt><span>comment :</span></dt><dd>Brief data description: Temporal resolution:  	Day Temporal coverage:	  1950-2022 	Observational sample: &gt;90% of the world&#x27;s glaciers</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>We note that it is a gridded dataset at a 1 by 1 degree spatial resolution containing the fractional area (in %) of a grid cell covered by glaciers in the <code class="docutils literal notranslate"><span class="pre">Glacier_area</span></code> variable (i.e. these are not absolute glacier areas). Note that not all grid cells exhibit the same absolute surface area, as grid cells get smaller towards the poles. The surface area of a grid cell is not included in the dataset.</p>
<p>And for the vector data:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rgi_id</th>
      <th>o1region</th>
      <th>o2region</th>
      <th>glims_id</th>
      <th>anlys_id</th>
      <th>subm_id</th>
      <th>src_date</th>
      <th>cenlon</th>
      <th>cenlat</th>
      <th>utm_zone</th>
      <th>...</th>
      <th>zmin_m</th>
      <th>zmax_m</th>
      <th>zmed_m</th>
      <th>zmean_m</th>
      <th>slope_deg</th>
      <th>aspect_deg</th>
      <th>aspect_sec</th>
      <th>dem_source</th>
      <th>lmax_m</th>
      <th>geometry</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>RGI2000-v7.0-G-01-00001</td>
      <td>01</td>
      <td>01-01</td>
      <td>G204091E67414N</td>
      <td>392889</td>
      <td>624</td>
      <td>2008-09-02T00:00:00</td>
      <td>-155.909404</td>
      <td>67.413726</td>
      <td>5</td>
      <td>...</td>
      <td>1485.317600</td>
      <td>1693.623500</td>
      <td>1544.66940</td>
      <td>1553.94030</td>
      <td>17.606613</td>
      <td>342.330469</td>
      <td>1</td>
      <td>COPDEM30</td>
      <td>725</td>
      <td>POLYGON Z ((-155.90493 67.4163 0, -155.90416 6...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>RGI2000-v7.0-G-01-00002</td>
      <td>01</td>
      <td>01-01</td>
      <td>G204121E67419N</td>
      <td>392890</td>
      <td>624</td>
      <td>2008-09-02T00:00:00</td>
      <td>-155.879114</td>
      <td>67.419232</td>
      <td>5</td>
      <td>...</td>
      <td>1278.400600</td>
      <td>1394.765700</td>
      <td>1328.55660</td>
      <td>1330.91500</td>
      <td>19.846369</td>
      <td>345.367012</td>
      <td>1</td>
      <td>COPDEM30</td>
      <td>484</td>
      <td>POLYGON Z ((-155.87867 67.41748 0, -155.87872 ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>RGI2000-v7.0-G-01-00003</td>
      <td>01</td>
      <td>01-01</td>
      <td>G204471E67431N</td>
      <td>392897</td>
      <td>624</td>
      <td>2008-09-02T00:00:00</td>
      <td>-155.530786</td>
      <td>67.431484</td>
      <td>5</td>
      <td>...</td>
      <td>1294.703400</td>
      <td>1704.742000</td>
      <td>1423.20680</td>
      <td>1437.23520</td>
      <td>23.690063</td>
      <td>13.467490</td>
      <td>1</td>
      <td>COPDEM30</td>
      <td>1099</td>
      <td>POLYGON Z ((-155.53113 67.43564 0, -155.53079 ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RGI2000-v7.0-G-01-00004</td>
      <td>01</td>
      <td>01-01</td>
      <td>G204497E67431N</td>
      <td>392899</td>
      <td>624</td>
      <td>2008-09-02T00:00:00</td>
      <td>-155.501948</td>
      <td>67.430514</td>
      <td>5</td>
      <td>...</td>
      <td>1224.178800</td>
      <td>1286.897700</td>
      <td>1249.63060</td>
      <td>1249.06620</td>
      <td>12.782562</td>
      <td>42.854332</td>
      <td>2</td>
      <td>COPDEM30</td>
      <td>652</td>
      <td>POLYGON Z ((-155.49973 67.43212 0, -155.49931 ...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>RGI2000-v7.0-G-01-00005</td>
      <td>01</td>
      <td>01-01</td>
      <td>G204521E67429N</td>
      <td>392901</td>
      <td>624</td>
      <td>2008-09-02T00:00:00</td>
      <td>-155.478173</td>
      <td>67.432873</td>
      <td>5</td>
      <td>...</td>
      <td>1052.440100</td>
      <td>1488.129900</td>
      <td>1290.89230</td>
      <td>1273.78340</td>
      <td>17.148510</td>
      <td>299.058193</td>
      <td>8</td>
      <td>COPDEM30</td>
      <td>1903</td>
      <td>POLYGON Z ((-155.49636 67.43892 0, -155.49583 ...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>274526</th>
      <td>RGI2000-v7.0-G-19-02738</td>
      <td>19</td>
      <td>19-24</td>
      <td>G356783E71154S</td>
      <td>1009836</td>
      <td>805</td>
      <td>2000-02-06T00:00:00</td>
      <td>-3.254147</td>
      <td>-71.142262</td>
      <td>30</td>
      <td>...</td>
      <td>51.334140</td>
      <td>190.581200</td>
      <td>119.21578</td>
      <td>120.04070</td>
      <td>1.384531</td>
      <td>325.807697</td>
      <td>8</td>
      <td>COPDEM90</td>
      <td>10105</td>
      <td>POLYGON Z ((-2.9804 -71.23218 0, -2.99065 -71....</td>
    </tr>
    <tr>
      <th>274527</th>
      <td>RGI2000-v7.0-G-19-02739</td>
      <td>19</td>
      <td>19-24</td>
      <td>G001187E70166S</td>
      <td>1009760</td>
      <td>805</td>
      <td>2000-02-15T00:00:00</td>
      <td>1.161199</td>
      <td>-70.234860</td>
      <td>31</td>
      <td>...</td>
      <td>-2.147076</td>
      <td>266.489380</td>
      <td>131.61113</td>
      <td>135.94368</td>
      <td>1.436012</td>
      <td>342.096767</td>
      <td>1</td>
      <td>COPDEM90</td>
      <td>24839</td>
      <td>POLYGON Z ((1.0094 -70.05421 0, 1.01073 -70.05...</td>
    </tr>
    <tr>
      <th>274528</th>
      <td>RGI2000-v7.0-G-19-02740</td>
      <td>19</td>
      <td>19-24</td>
      <td>G002050E70629S</td>
      <td>1009761</td>
      <td>805</td>
      <td>2000-03-04T00:00:00</td>
      <td>2.039158</td>
      <td>-70.630907</td>
      <td>31</td>
      <td>...</td>
      <td>4.757297</td>
      <td>107.698586</td>
      <td>65.82977</td>
      <td>65.03951</td>
      <td>1.445538</td>
      <td>355.737166</td>
      <td>1</td>
      <td>COPDEM90</td>
      <td>10029</td>
      <td>POLYGON Z ((2.09959 -70.67463 0, 2.0919 -70.67...</td>
    </tr>
    <tr>
      <th>274529</th>
      <td>RGI2000-v7.0-G-19-02741</td>
      <td>19</td>
      <td>19-24</td>
      <td>G002939E70509S</td>
      <td>1009762</td>
      <td>805</td>
      <td>2000-03-04T00:00:00</td>
      <td>2.929238</td>
      <td>-70.505540</td>
      <td>31</td>
      <td>...</td>
      <td>6.294697</td>
      <td>261.422030</td>
      <td>156.44052</td>
      <td>153.55705</td>
      <td>1.594081</td>
      <td>310.365845</td>
      <td>8</td>
      <td>COPDEM90</td>
      <td>19935</td>
      <td>POLYGON Z ((3.09012 -70.38237 0, 3.09807 -70.3...</td>
    </tr>
    <tr>
      <th>274530</th>
      <td>RGI2000-v7.0-G-19-02742</td>
      <td>19</td>
      <td>19-24</td>
      <td>G004329E70346S</td>
      <td>1009763</td>
      <td>805</td>
      <td>2000-03-04T00:00:00</td>
      <td>4.329046</td>
      <td>-70.372802</td>
      <td>31</td>
      <td>...</td>
      <td>-2.018840</td>
      <td>352.334080</td>
      <td>182.37610</td>
      <td>185.75215</td>
      <td>1.858386</td>
      <td>302.110531</td>
      <td>8</td>
      <td>COPDEM90</td>
      <td>15185</td>
      <td>POLYGON Z ((4.34737 -70.5039 0, 4.33046 -70.50...</td>
    </tr>
  </tbody>
</table>
<p>274531 rows √ó 29 columns</p>
</div></div></div>
</div>
<p>As can be seen above, the data includes attribute information for each individual glacier (i.e. digitized polygon) in the vector-type dataset. Important for this notebook is the <code class="docutils literal notranslate"><span class="pre">AREA</span></code> (in v6.0) or <code class="docutils literal notranslate"><span class="pre">area_km2</span></code> (in v7.0) column (in km<span class="math notranslate nohighlight">\(^2\)</span>), which contain information about the absolute surface area of the specific glacier. If for some glaciers (part of) these data are missing, the data are filled by <code class="docutils literal notranslate"><span class="pre">-9999999</span></code>. We will use this information below.</p>
</section>
</section>
<section id="spatial-distribution-of-glaciers-and-glacier-area">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2"></span><h3>2. Spatial distribution of glaciers and glacier area<a class="headerlink" href="#spatial-distribution-of-glaciers-and-glacier-area" title="Link to this heading">#</a></h3>
<section id="pixel-by-pixel-fractional-glacierized-area-in-the-raster-data">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-1"></span><h4>2.1 Pixel-by-pixel fractional glacierized area in the raster data<a class="headerlink" href="#pixel-by-pixel-fractional-glacierized-area-in-the-raster-data" title="Link to this heading">#</a></h4>
<p>Let us check the spatial distribution of all glaciers in the dataset from the raster product. We therefore produce a world map where every grid cell represents the fractional glacier area in that specific grid cell (in %):</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the gridded data</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">LAND</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">OCEAN</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">gl</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">gridlines</span><span class="p">(</span><span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">gl</span><span class="o">.</span><span class="n">xformatter</span> <span class="o">=</span> <span class="n">LONGITUDE_FORMATTER</span>
<span class="n">gl</span><span class="o">.</span><span class="n">yformatter</span> <span class="o">=</span> <span class="n">LATITUDE_FORMATTER</span>
<span class="n">im</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df2</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span><span class="p">,</span> <span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">BoundaryNorm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span><span class="o">.</span><span class="n">N</span><span class="p">))</span>
<span class="n">im</span><span class="o">.</span><span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="s1">&#39;#7E012B&#39;</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="s1">&#39;#70017E&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">extend</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.49</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Percentage glacier area (%)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Fractional glacier area around the year 2000 according to the RGI v</span><span class="si">{}</span><span class="s1"> (raster)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/2a7bb2c1ec331421af0f9b4312061179af9d2ce3fae69df90b81ba3b16a29b7b.png" src="../../_images/2a7bb2c1ec331421af0f9b4312061179af9d2ce3fae69df90b81ba3b16a29b7b.png" />
</div>
</div>
<p><em><center>Figure 1. Spatial distribution of the fractional glacier area in the raster version of the glacier extent dataset.</center></em></p>
</section>
<section id="pixel-by-pixel-absolute-glacierized-area-in-the-raster-data">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-2"></span><h4>2.2 Pixel-by-pixel absolute glacierized area in the raster data<a class="headerlink" href="#pixel-by-pixel-absolute-glacierized-area-in-the-raster-data" title="Link to this heading">#</a></h4>
<p>To calculate the total absolute glacier area from the raster product, we first need to find the surface area of a 1 by 1 degree pixel across the globe, which varies for each pixel (i.e. the surface area of a pixel gets smaller towards the poles). After multiplying those respective surface areas by the fractional glacier area of the corresponding pixel, and summing up all those values, we get an estimate of the total glacier surface area. We assume the Earth to be a sphere so that:</p>
<p><span class="math notranslate nohighlight">\(
\sum\limits_{i=1}^n A_{\text{glacier}}
\)</span>
[km¬≤]
<span class="math notranslate nohighlight">\(
= \sum\limits_{i=1}^n \left(\dfrac{1}{100} * \left(\dfrac{A_{\text{RGI},i}}{A_{\text{grid},i}}\right) * A_{\text{grid},i}\right)
\)</span></p>
<p>where
<span class="math notranslate nohighlight">\(
\dfrac{A_{\text{RGI},i}}{A_{\text{grid},i}}
\)</span>
[%] is the fractional glacier area as given by the RGI raster product, and <span class="math notranslate nohighlight">\(n\)</span> the total amount of glacier-covered pixels with a single pixel denoted as <span class="math notranslate nohighlight">\(i\)</span>,</p>
<p>and
<span class="math notranslate nohighlight">\(
{A_{\text{grid},i}}
\)</span>
[km<span class="math notranslate nohighlight">\(^2\)</span>]
<span class="math notranslate nohighlight">\(
= (R * cos(\phi_i) * \Delta\Lambda_i) * (R \Delta\phi_i)
\)</span>
with
<span class="math notranslate nohighlight">\(
R
\)</span>
the radius of the Earth [km] and
<span class="math notranslate nohighlight">\(
\Delta\Lambda
\)</span>
and
<span class="math notranslate nohighlight">\(
\Delta\phi
\)</span>
the change of longitude and latitude respectively [rad]. By integrating over all latitudes and longitudes, this formula yields the surface area of a sphere, i.e. <span class="math notranslate nohighlight">\(4 \pi R^2\)</span>.</p>
<p>Let us run this script:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">surf_area_on_sphere</span><span class="p">(</span><span class="n">lat0</span><span class="p">,</span> <span class="n">lat1</span><span class="p">,</span> <span class="n">delta_lon</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="n">d2r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">d2r</span><span class="o">*</span><span class="p">((</span><span class="n">lat1</span><span class="o">+</span><span class="n">lat0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">d2r</span> <span class="o">*</span> <span class="n">delta_lon</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="p">(</span><span class="n">d2r</span> <span class="o">*</span> <span class="p">(</span><span class="n">lat1</span><span class="o">-</span><span class="n">lat0</span><span class="p">)))</span>

<span class="c1"># Constants for Earth (in kilometers)</span>
<span class="n">earth_radius</span> <span class="o">=</span> <span class="mf">6371.0</span>  <span class="c1"># in km</span>

<span class="c1"># Define latitude and longitude ranges</span>
<span class="n">latitudes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Latitude range</span>
<span class="n">longitudes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Longitude range</span>

<span class="c1"># Initialize variables to store total surface areas</span>
<span class="n">surface_areas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]))</span>

<span class="c1"># Calculate surface areas for each latitude and longitude</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">latitudes</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">longitudes</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">lat0</span> <span class="o">=</span> <span class="n">latitudes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">lat1</span> <span class="o">=</span> <span class="n">latitudes</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">delta_lon</span> <span class="o">=</span> <span class="n">longitudes</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">longitudes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>

        <span class="c1"># Calculate surface areas</span>
        <span class="n">area_sphere</span> <span class="o">=</span> <span class="n">surf_area_on_sphere</span><span class="p">(</span><span class="n">lat0</span><span class="p">,</span> <span class="n">lat1</span><span class="p">,</span> <span class="n">delta_lon</span><span class="p">,</span> <span class="n">earth_radius</span><span class="p">)</span>
        
        <span class="c1"># Store info</span>
        <span class="n">surface_areas</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">area_sphere</span>

<span class="c1"># Add surface area to xarray data</span>
<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;Surface_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">),</span><span class="n">surface_areas</span><span class="p">)</span>

<span class="c1"># Calculate the total area covered by glaciers in the gridded dataset</span>
<span class="n">total_area_gridded</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">((</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Surface_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">))</span>
<span class="n">number_of_pixels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
</div>
<p>Now, we can finally print the total absolute glacier area from the raster format:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print relevant data</span>
<span class="nb">print</span><span class="p">(</span> 
    <span class="sa">f</span><span class="s2">&quot;A total number of </span><span class="si">{</span><span class="n">number_of_pixels</span><span class="si">}</span><span class="s2"> pixels (or </span><span class="si">{</span><span class="mi">100</span><span class="o">*</span><span class="n">number_of_pixels</span><span class="o">/</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">latitudes</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">longitudes</span><span class="p">))</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%) hold glacier extent data in the raster dataset, &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;covering a total surface area of </span><span class="si">{</span><span class="n">total_area_gridded</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km¬≤.&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A total number of 2096 pixels (or 3.42%) hold glacier extent data in the raster dataset, covering a total surface area of 714458.17 km¬≤.
</pre></div>
</div>
</div>
</div>
<p>Let us plot the absolute glacier area from the raster dataset on a world map:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the gridded data</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">LAND</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">OCEAN</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">gl</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">gridlines</span><span class="p">(</span><span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">gl</span><span class="o">.</span><span class="n">xformatter</span> <span class="o">=</span> <span class="n">LONGITUDE_FORMATTER</span>
<span class="n">gl</span><span class="o">.</span><span class="n">yformatter</span> <span class="o">=</span> <span class="n">LATITUDE_FORMATTER</span>
<span class="n">im</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df2</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="p">(((</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="n">df2</span><span class="p">[</span><span class="s2">&quot;Surface_area&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">),</span> <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>  <span class="n">cmap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span><span class="p">,</span> <span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">BoundaryNorm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2600</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span><span class="o">.</span><span class="n">N</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">extend</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">shrink</span><span class="o">=</span><span class="mf">0.49</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Pixel total glacier area $A_</span><span class="si">{glacier}</span><span class="s1">$ (km$^2$)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Absolute glacier area around the year 2000 according to the RGI v</span><span class="si">{}</span><span class="s1"> (raster)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/1a687374356ea96d6801d4bfcfebc7d9014e075b81b40de473c4c830703555ca.png" src="../../_images/1a687374356ea96d6801d4bfcfebc7d9014e075b81b40de473c4c830703555ca.png" />
</div>
</div>
<p><em><center>Figure 2. Spatial distribution of the absolute glacier area in the raster version of the glacier extent dataset.</center></em></p>
<p>In order to compare this number with the vector version of the dataset, we turn to the vector format in the section below.</p>
</section>
<section id="individual-glacier-area-in-the-vector-data">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-2-3"></span><h4>2.3 Individual glacier area in the vector data<a class="headerlink" href="#individual-glacier-area-in-the-vector-data" title="Link to this heading">#</a></h4>
<p>Let us now inspect the vector product of the same dataset. We therefore plot the polygons (that each represent the outline of an individual glacier) as data points across the globe. Here, data are not aggregated in pixels but values thus represent the glacier area of individual glaciers. This results in the following:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the gridded data</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_global</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">LAND</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">OCEAN</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">cfeature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">gl</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">gridlines</span><span class="p">(</span><span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">gl</span><span class="o">.</span><span class="n">xformatter</span> <span class="o">=</span> <span class="n">LONGITUDE_FORMATTER</span>
<span class="n">gl</span><span class="o">.</span><span class="n">yformatter</span> <span class="o">=</span> <span class="n">LATITUDE_FORMATTER</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">BoundaryNorm</span><span class="p">((</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span> <span class="n">cmap</span><span class="o">.</span><span class="n">N</span><span class="p">)</span>
<span class="k">if</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">6.0</span><span class="p">:</span>
    <span class="n">sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;CENLON&#39;</span><span class="p">],</span> <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;CENLAT&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;AREA&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="k">elif</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">7.0</span><span class="p">:</span>
    <span class="n">sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;cenlon&#39;</span><span class="p">],</span> <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;cenlat&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;area_km2&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">extend</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.49</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Individual glacier area $A_</span><span class="si">{glacier}</span><span class="s1">$ (km$^2$)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Absolute glacier area around the year 2000 according to the RGI v</span><span class="si">{}</span><span class="s1"> (vector)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/b9e5f2778b16601cc7a7af32b30bde0d12fee8108bc6b55e4936edeff5f00c4a.png" src="../../_images/b9e5f2778b16601cc7a7af32b30bde0d12fee8108bc6b55e4936edeff5f00c4a.png" />
</div>
</div>
<p><em><center>Figure 3. Spatial distribution of individual glaciers and their area in the vector version of the glacier extent dataset.</center></em></p>
<p>The geographical distribution of glaciers is similar to that of the raster product, although the vector product allows for more detailed and glacier-specific analysis. However, due to the different representation, the above two maps do not allow for an easy quantitative comparison of the glacier area between the two versions of the dataset. Let us therefore get the statistics of the vector version of the glacier extent data:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print relevant data</span>
<span class="k">if</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">6.0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span> 
    <span class="sa">f</span><span class="s2">&quot;A total number of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">gdf</span><span class="p">)</span><span class="si">}</span><span class="s2"> glaciers is present in the dataset, &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;covering a total surface area of </span><span class="si">{</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;AREA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km¬≤.&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">7.0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span> 
    <span class="sa">f</span><span class="s2">&quot;A total number of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">gdf</span><span class="p">)</span><span class="si">}</span><span class="s2"> glaciers is present in the dataset, &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;covering a total surface area of </span><span class="si">{</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;area_km2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km¬≤.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A total number of 274531 glaciers is present in the dataset, covering a total surface area of 706744.05 km¬≤.
</pre></div>
</div>
</div>
</div>
<p>This already reveals a slight difference between both data formats. With the above information in mind, we can now further quantify the total regional (according to the 19 RGI regions) glacier area and compare the values between the vector and raster version of the dataset more in-depth.</p>
</section>
</section>
<section id="regional-and-global-comparison-of-the-vector-and-raster-product">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3"></span><h3>3. Regional and global comparison of the vector and raster product<a class="headerlink" href="#regional-and-global-comparison-of-the-vector-and-raster-product" title="Link to this heading">#</a></h3>
<section id="quantification-of-global-glacier-area-differences">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3-1"></span><h4>3.1 Quantification of global glacier area differences<a class="headerlink" href="#quantification-of-global-glacier-area-differences" title="Link to this heading">#</a></h4>
<p>This section presents a regional and global comparison of glacier areas derived from vector and raster data products of the glacier extent data from the Randolph Glacier Inventory version 7.0 (RGIv7.0). In doing so, discrepancies and agreements between the two data formats are analyzed, providing further insights into their consistency and usability for climatological and hydrological applications, such as water resource management. We first quantify the difference of the global total glacier area between both data formats:</p>
<p><span class="math notranslate nohighlight">\(
\Delta A_{\text{glacier}}^{\text{global}}
\)</span>
[km<span class="math notranslate nohighlight">\(^2\)</span>]
<span class="math notranslate nohighlight">\(
= \sum\limits^{x,y} A_{\text{glacier}}^{\text{raster}} - \sum\limits^n A_{\text{glacier}}^{\text{vector}}
\)</span></p>
<p>with <span class="math notranslate nohighlight">\(x,y\)</span> all glacier-covered pixels in the raster product and <span class="math notranslate nohighlight">\(n\)</span> the total amount of individual glaciers in the vector product.</p>
<p>This results in:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the total glacier area from the raster product</span>
<span class="n">total_glacier_area_raster</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(((</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;Glacier_area&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;Surface_area&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="c1"># Calculate the total glacier area from the vector product</span>
<span class="k">if</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">6.0</span><span class="p">:</span>
    <span class="n">total_glacier_area_vector</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;AREA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">7.0</span><span class="p">:</span>
    <span class="n">total_glacier_area_vector</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;area_km2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># Print the difference</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The difference of the total global glacier area between the raster and the vector product is &quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">total_glacier_area_raster</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">total_glacier_area_vector</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km¬≤.&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The difference of the total global glacier area between the raster and the vector product is 7714.12 km¬≤.
</pre></div>
</div>
</div>
</div>
</section>
<section id="regional-glacier-area-differences-between-raster-and-vector-data">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-3-2"></span><h4>3.2 Regional glacier area differences between raster and vector data<a class="headerlink" href="#regional-glacier-area-differences-between-raster-and-vector-data" title="Link to this heading">#</a></h4>
<p>Let us analyse this regionally and check where the most significant differences are situated. For the vector data, we can easily extract the RGI regions, which are embedded in ‚ÄòRGIID‚Äô for RGIv6.0 or stored in ‚Äòo1region‚Äô for RGIv7.0, and aggregate the glacier surface areas for each specific region. For the raster data, no RGI region is assigned to a certain pixel. Hence, a region mask has to be created at first.</p>
<p>For that, we first extract the glacier locations and their RGI region from the vector data. We then construct an array of glacier centroids, assigning each glacier center point (in latitude and longitude coordinates) to its region ID. Then we regrid this onto the target raster grid form the RGI raster data, using nearest-neighbour mapping. This produces a RGI region mask on the raster domain which was used to isolate all grid cells belonging to each RGI region. If multiple glaciers from different RGI regions fall within the same grid cell, the grid cell receives the region ID of whichever glacier centroid is closest. By multiplying glacierized grid-cell fractions with the corresponding cell surface areas and summing over each region, we obtained regionally aggregated glacier areas from the raster product. These raster-derived values were then directly compared to the vector-derived regional totals to evaluate discrepancies between the two datasets:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the total regional glacier area from the vector product</span>
<span class="k">if</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">6.0</span><span class="p">:</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;RGIID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[[</span><span class="s2">&quot;AREA&quot;</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">)</span>
    <span class="n">total_area</span> <span class="o">=</span> <span class="p">(</span><span class="n">grouped</span><span class="p">[</span><span class="s2">&quot;AREA&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

    <span class="c1"># Get the total regional area from the raster product</span>
    <span class="n">regions</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;RGIID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">regions</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span>
        <span class="n">lon</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;CENLON&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">(),</span>
        <span class="n">lat</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;CENLAT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">(),</span>
    <span class="p">)</span>
<span class="k">elif</span> <span class="n">rgi_version</span> <span class="o">==</span> <span class="mf">7.0</span><span class="p">:</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;o1region&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[[</span><span class="s2">&quot;area_km2&quot;</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">)</span>
    <span class="n">total_area</span> <span class="o">=</span> <span class="p">(</span><span class="n">grouped</span><span class="p">[</span><span class="s2">&quot;area_km2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

    <span class="c1"># Get the total regional area from the raster product</span>
    <span class="n">regions</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;o1region&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">regions</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span>
        <span class="n">lon</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;cenlon&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">(),</span>
        <span class="n">lat</span><span class="o">=</span><span class="n">gdf</span><span class="p">[</span><span class="s2">&quot;cenlat&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">(),</span>
    <span class="p">)</span>
<span class="n">regridder</span> <span class="o">=</span> <span class="n">xe</span><span class="o">.</span><span class="n">Regridder</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">locstream_in</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest_s2d&quot;</span><span class="p">)</span>
<span class="n">mask_2d</span> <span class="o">=</span> <span class="n">regridder</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
    <span class="p">[(</span><span class="n">mask_2d</span> <span class="o">==</span> <span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="p">[</span><span class="n">region</span><span class="p">])</span> <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">regions</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span>
    <span class="s2">&quot;region&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
<span class="n">total_glacier_area_all_regions</span> <span class="o">=</span> <span class="p">(((</span><span class="n">df3</span><span class="p">[</span><span class="s2">&quot;Glacier_area&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">df3</span><span class="p">[</span><span class="s2">&quot;Surface_area&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</details>
</div>
<p>Now we can finally plot the quantified regional differences of the glacier area between the vector and raster version of the data:</p>
<p><span class="math notranslate nohighlight">\(
\Delta A_{\text{glacier}}^{\text{region}}
\)</span>
[km<span class="math notranslate nohighlight">\(^2\)</span>]
<span class="math notranslate nohighlight">\(
= \sum\limits^{x,y \in \text{region}} A_{\text{glacier}}^{\text{raster}} - \sum\limits^{n\in \text{region}} A_{\text{glacier}}^{\text{vector}}
\)</span></p>
<p>or in percentage difference:</p>
<p><span class="math notranslate nohighlight">\(
\Delta A_{\text{glacier}}^{\text{region}} 
\)</span>
[%] =
<span class="math notranslate nohighlight">\(
\dfrac {100 * \left(\sum\limits^{x,y \in \text{region}} A_{\text{glacier}}^{\text{raster}} - \sum\limits^{n \in \text{region}} A_{\text{glacier}}^{\text{vector}}\right)}{\sum\limits^{n \in \text{region}} A_{\text{glacier}}^{\text{vector}}}
\)</span></p>
<p>with <span class="math notranslate nohighlight">\(x,y\)</span> all glacier-covered pixels in the raster product in a certain RGI region and <span class="math notranslate nohighlight">\(n\)</span> the total amount of individual glaciers in the vector product in a certain RGI region.</p>
<p>The calculations above result in the following:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define regions and data</span>
<span class="n">regions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">total_glacier_area_all_regions</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Regions 1 to max(region)</span>
<span class="n">raster_values</span> <span class="o">=</span> <span class="n">total_glacier_area_all_regions</span>  <span class="c1"># Raster product values</span>
<span class="n">vector_values</span> <span class="o">=</span> <span class="n">total_area</span><span class="o">.</span><span class="n">values</span>  <span class="c1"># Vector product values</span>
<span class="c1"># Define bar width and positions</span>
<span class="n">bar_width</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">regions</span> <span class="o">-</span> <span class="n">bar_width</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># Positions for raster product bars</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">regions</span> <span class="o">+</span> <span class="n">bar_width</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># Positions for vector product bars</span>
<span class="c1"># Create the bar plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">raster_values</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">bar_width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Raster product&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">vector_values</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">bar_width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Vector product&#39;</span><span class="p">)</span>
<span class="c1"># Add labels, title, and legend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;RGI region&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Total regional glacier area $A^</span><span class="si">{region}</span><span class="s2">_</span><span class="si">{glacier}</span><span class="s2">$ (km$^</span><span class="si">{2}</span><span class="s2">$)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total regional glacier area from RGI regions (RGI v</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">regions</span><span class="p">)</span>  <span class="c1"># Set x-ticks to region numbers</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="c1"># Show grid and plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#95a5a6&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/d5ed7bcf8414954774683b8aa4d4091fef55e0b04f37f7fb5d43b5f1898d9002.png" src="../../_images/d5ed7bcf8414954774683b8aa4d4091fef55e0b04f37f7fb5d43b5f1898d9002.png" />
</div>
</div>
<p><em><center>Figure 4. Regional comparison of the total absolute glacier area between the vector and raster version of the glacier extent dataset.</center></em></p>
<p>And to express it as a percentage difference:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the differences</span>
<span class="n">differences</span> <span class="o">=</span> <span class="n">total_glacier_area_all_regions</span> <span class="o">-</span> <span class="n">total_area</span>
<span class="n">percentage_differences</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">differences</span><span class="p">)</span> <span class="o">/</span> <span class="n">total_area</span>
<span class="c1"># Define regions</span>
<span class="n">regions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">total_area</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Generate regions as integers (1 to max)</span>
<span class="c1"># Create the bar plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">regions</span><span class="p">,</span> <span class="p">(</span><span class="n">percentage_differences</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Percentage difference&quot;</span><span class="p">)</span>
<span class="c1"># Add labels, title, and grid</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;RGI region&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Percentage difference $\Delta A_{\mathrm</span><span class="si">{glacier}</span><span class="s2">}^{\mathrm</span><span class="si">{region}</span><span class="s2">}$ (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Percentage difference glacier area between raster and vector product (RGI v</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rgi_version</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#95a5a6&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>  <span class="c1"># Add grid only for y-axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">regions</span><span class="p">)</span>  <span class="c1"># Ensure x-ticks match region numbers</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower left&quot;</span><span class="p">)</span>
<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/7de55905188aa1c3a8bb221ca3d7581f48dd58ec5d4b96b3ada89823be2a0078.png" src="../../_images/7de55905188aa1c3a8bb221ca3d7581f48dd58ec5d4b96b3ada89823be2a0078.png" />
</div>
</div>
<p><em>Figure 5. Regional comparison of the percentage difference of glacier areas between the vector and raster version of the glacier extent dataset.</em></p>
<p>The figures above compare the total regional glacier area from RGI regions using raster and vector products, and shows the percentage difference between these data formats. The percentage difference plot indicates that, while the vector product generally aligns with the raster product, significant percentage-wise discrepancies are observed in especially RGI region 15 (southern Asia/Himalaya), where the vector product shows notably higher absolute glacier areas. Most regions, however, exhibit low percentage differences (&lt; 4%), suggesting good agreement. Let us also have these numbers quantified by text:</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print values</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">perc</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">differences</span><span class="p">,</span><span class="n">percentage_differences</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The glacier surface area in RGI region </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">&gt;2</span><span class="si">}</span><span class="s2"> in the raster version &quot;</span>
          <span class="sa">f</span><span class="s2">&quot;is </span><span class="si">{</span><span class="s1">&#39;under&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;over&#39;</span><span class="si">:</span><span class="s2">&gt;5</span><span class="si">}</span><span class="s2">estimated &quot;</span>
          <span class="sa">f</span><span class="s2">&quot;by </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;km¬≤&#39;</span><span class="si">}</span><span class="s2"> or </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">perc</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">% when compared to the vector product.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The glacier surface area in RGI region  1 in the raster version is  overestimated by 769.25 km¬≤ or 0.89% when compared to the vector product.
The glacier surface area in RGI region  2 in the raster version is  overestimated by 171.73 km¬≤ or 1.18% when compared to the vector product.
The glacier surface area in RGI region  3 in the raster version is  overestimated by 4134.28 km¬≤ or 3.92% when compared to the vector product.
The glacier surface area in RGI region  4 in the raster version is  overestimated by 673.93 km¬≤ or 1.66% when compared to the vector product.
The glacier surface area in RGI region  5 in the raster version is  overestimated by 2830.00 km¬≤ or 3.13% when compared to the vector product.
The glacier surface area in RGI region  6 in the raster version is  overestimated by 129.79 km¬≤ or 1.17% when compared to the vector product.
The glacier surface area in RGI region  7 in the raster version is  overestimated by 1225.13 km¬≤ or 3.61% when compared to the vector product.
The glacier surface area in RGI region  8 in the raster version is  overestimated by 35.32 km¬≤ or 1.20% when compared to the vector product.
The glacier surface area in RGI region  9 in the raster version is  overestimated by 1795.29 km¬≤ or 3.48% when compared to the vector product.
The glacier surface area in RGI region 10 in the raster version is  overestimated by 23.16 km¬≤ or 0.88% when compared to the vector product.
The glacier surface area in RGI region 11 in the raster version is  overestimated by 13.94 km¬≤ or 0.66% when compared to the vector product.
The glacier surface area in RGI region 12 in the raster version is  overestimated by 8.97 km¬≤ or 0.64% when compared to the vector product.
The glacier surface area in RGI region 13 in the raster version is  overestimated by 1619.87 km¬≤ or 3.22% when compared to the vector product.
The glacier surface area in RGI region 14 in the raster version is  overestimated by 763.59 km¬≤ or 2.31% when compared to the vector product.
The glacier surface area in RGI region 15 in the raster version is underestimated by 1767.23 km¬≤ or 11.01% when compared to the vector product.
The glacier surface area in RGI region 16 in the raster version is  overestimated by 4.18 km¬≤ or 0.22% when compared to the vector product.
The glacier surface area in RGI region 17 in the raster version is underestimated by 354.86 km¬≤ or 1.28% when compared to the vector product.
The glacier surface area in RGI region 18 in the raster version is underestimated by 9.12 km¬≤ or 1.03% when compared to the vector product.
The glacier surface area in RGI region 19 in the raster version is underestimated by 4353.11 km¬≤ or 3.26% when compared to the vector product.
</pre></div>
</div>
</div>
</div>
<p>The comparison between the raster and vector products of glacier area reveals varying degrees of overestimation and underestimation across different RGI regions when both data formats are compared to one another. Most regions show minor discrepancies, with the raster product generally under or overestimating glacier areas by small percentages. Notably, significant percentage-wise differences in RGI region 15 exist. The discrepancies and inconsistency of the calculated glacier area between the raster and vector versions of the Randolph Glacier Inventory data, especially in the southern Asian/Himalayan region, have been documented before [<a class="reference external" href="https://doi.org/10.1017/jog.2021.28" rel="noreferrer" target="_blank">3</a>] and can have significant implications for water resource management across various spatial scales. Accurate glacier area data are namely crucial for understanding glacier contributions to water supplies, especially in regions where glaciers play a key role in the hydrological cycle (such as the Himalaya) [<a class="reference external" href="https://doi.org/10.3189/2013AoG63A296" rel="noreferrer" target="_blank">4</a>].</p>
<p><img alt="alternatvie text" src="https://www.glims.org/rgi_user_guide/_images/global_map_small.jpeg" /></p>
<p><em>Figure 6. The 19 first-order regions of the RGI version 7.0 and glacier locations in red. From: <a class="reference external" href="https://www.glims.org/rgi_user_guide/welcome.html" rel="noreferrer" target="_blank">GLIMS RGI</a>.</em></p>
<p>It must be noted that the comparison between the RGI 7.0 vector dataset and the raster-based data representation is affected by differences in how area is defined and computed in both datasets. In the RGI 7.0 data, glacier polygon areas are computed in their local UTM zone (corresponding to the centroid of each glacier), using the WGS84 reference ellipsoid. In contrast, in this notebook, the area of each 1¬∞ raster grid cell has been calculated assuming a perfect sphere. This difference introduces a latitude-dependent systematic offset.</p>
<p>In this context, it is also important to acknowledge a limitation of the nearest-neighbour regridding approach used to construct the RGI region mask on the raster grid. Because each grid cell is assigned the region ID of the nearest glacier centroid, cells that contain (or lie close to) glaciers from multiple RGI regions inevitably receive only a single region label. This can lead to systematic misallocation of glacier area in regions where RGI boundaries overlap spatially within the coarse 1¬∞ by 1¬∞ raster cells. A prominent example is the Himalaya region, where regions 13, 14 and 15 border each other. In such cases, glacierized cells belonging to a certain region may be assigned to neighbouring regions simply because the nearest glacier centroid happens to lie across the regional boundary.</p>
<p>Lastly, interpolation, reprocessing, and resampling likely have a less pronounced effect on these areal mismatches.</p>
</section>
</section>
<section id="short-summary-and-take-home-messages">
<span id="satellite-insitu-glaciers-extent-consistency-assessment-q02-section-4"></span><h3>4. Short summary and take-home messages<a class="headerlink" href="#short-summary-and-take-home-messages" title="Link to this heading">#</a></h3>
<p>For the glacier area product to exhibit a high level of maturity and to be useful for glaciological and hydrological purposes, the raster and vector versions of the product should be consistent in terms of their glacier areas. The assessment in this notebook reveals that, overall, glacierized areas in both data formats agree relatively well with only minor percentage-wise differences. However, more significant percentage-wise discrepancies between the two data formats are present in some areas, which must be acknowledged by the user if the data are fed into glaciological or hydrological models. However, part of these differences may result from methodological choices in how regional glacier areas are computed in this notebook. First, the raster-based areas are calculated with a spherical Earth assumption, which is not fully consistent with the ellipsoidal geometry used for the vector-based area calculations in the RGI dataset. Second, the coarse grid resolution can cause neighbouring RGI regions to overlap within individual cells, leading to region misassignments when a region label is assigned via nearest‚Äêneighbour mapping.</p>
<p>Both data formats furthermore share broader limitations, including potential digitization errors and challenges in identifying glacier outlines due to factors like supraglacial debris, shadows, and cloud cover [<a class="reference external" href="https://doi.org/10.3189/2013AoG63A296" rel="noreferrer" target="_blank">4</a>]. Users are advised to be cautious in regions that exhibit significant debris cover, small glaciers (i.e. relative errors are known to be higher for smaller glaciers due to their larger outline-to-area ratio [<a class="reference external" href="https://doi.org/10.3189/2014JoG13J176" rel="noreferrer" target="_blank">2</a>]), or around the peripheral glaciers of the Greenland and Antarctic ice sheets (where a clear separation of outlet glaciers from the main ice sheet body may be difficult). A last important sidenote is the fact that data cannot be used for temporal glacier area change or climate change impact assessment (it is a single snapshot in time). It is, for example, not possible to use the data for peak water discharge determination, as this would require (spatio-)temporal glacier area changes [<a class="reference external" href="https://doi.org/10.1038/s41558-017-0049-x" rel="noreferrer" target="_blank">5</a>].</p>
<p>As the primary goal of RGI is to provide consistent, static glacier outlines for climatological, hydrological, and glaciological applications at regional to global scales, both RGI data formats (vector and raster) can be used for such purposes. However, raster data are typically more practical due to its grid format, which allows for easier integration with other global datasets and into modelling efforts. These gridded RGI data are, however, presented as fractional glacier area data within a certain pixel (without a provided indication of the absolute surface area of the grid cell). The percentage values itself (i.e. the fractional glacierized areas) should be exact, but if absolute areas are requiered, the user should calculate these by themselves.</p>
</section>
</section>
<section id="i-if-you-want-to-know-more">
<h2>‚ÑπÔ∏è If you want to know more<a class="headerlink" href="#i-if-you-want-to-know-more" title="Link to this heading">#</a></h2>
<section id="key-resources">
<h3>Key resources<a class="headerlink" href="#key-resources" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://cds.climate.copernicus.eu/datasets/insitu-glaciers-extent?tab=overview" rel="noreferrer" target="_blank">Glaciers distribution data from the Randolph Glacier Inventory (RGI) for year 2000</a></p></li>
<li><p><a class="reference external" href="https://cds.climate.copernicus.eu/datasets/insitu-glaciers-extent?tab=overview" rel="noreferrer" target="_blank">Documentation on the CDS</a> and the <a class="reference external" href="https://confluence.ecmwf.int/display/CKB/Glacier+Area" rel="noreferrer" target="_blank">ECMWF Confluence Wiki</a></p></li>
<li><p><a class="reference external" href="https://climate.copernicus.eu/climate-indicators/glaciers" rel="noreferrer" target="_blank">Copernicus climate change indicators: glaciers</a></p></li>
<li><p><a class="reference external" href="https://www.glims.org/RGI/" rel="noreferrer" target="_blank">RGI website from GLIMS</a> (Global Land Ice Measurements from Space)</p></li>
<li><p><a class="reference external" href="https://github.com/bopen/c3s-eqc-automatic-quality-control/tree/main/c3s_eqc_automatic_quality_control" rel="noreferrer" target="_blank">C3S EQC custom functions</a>, <code class="docutils literal notranslate"><span class="pre">c3s_eqc_automatic_quality_control</span></code> prepared by <a class="reference external" href="https://www.bopen.eu" rel="noreferrer" target="_blank">B-Open</a>.</p></li>
</ul>
</section>
<section id="references">
<h3>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>[<a class="reference external" href="https://www.glims.org/RGI/randolph60.html" rel="noreferrer" target="_blank">1</a>] RGI Consortium (2017). Randolph Glacier Inventory ‚Äì A Dataset of Global Glacier Outlines: Version 6.0: Technical Report, Global Land Ice Measurements from Space, Colorado, USA. Digital Media. doi: 10.7265/N5-RGI-60.</p></li>
<li><p>[<a class="reference external" href="https://doi.org/10.3189/2014JoG13J176" rel="noreferrer" target="_blank">2</a>] Pfeffer, W. T., Arendt, A. A., Bliss, A., Bolch, T., Cogley, J. G., Gardner, A. S., Hagen, J. O., Hock, R., Kaser, G., Kienholz, C., Miles, E. S., Moholdt, G., M√∂lg, N., Paul, F., Radiƒá, V., Rastner, P., Raup, B. H., Rich, J., Sharp, M. J., and Glasser, N. (2014). The Randolph Glacier Inventory: A globally complete inventory of glaciers, Journal of Glaciology, 60(221), 537-552. doi: 10.3189/2014JoG13J176.</p></li>
<li><p>[<a class="reference external" href="https://doi.org/10.1017/jog.2021.28" rel="noreferrer" target="_blank">3</a>] Li, Y. J., Li, F., Shangguan, D. H., Ding, Y. J. (2021). A New Global Gridded Glacier Dataset Based on the Randolph Glacier Inventory Version 6.0. Journal of Glaciology, 67 (2021), 773‚Äì76. doi: 10.1017/jog.2021.28.</p></li>
<li><p>[<a class="reference external" href="https://doi.org/10.3189/2013AoG63A296" rel="noreferrer" target="_blank">4</a>] Paul, F., Barrand, N. E., Baumann, S., Berthier, E., Bolch, T., Casey, K., Frey, H., Joshi, S. P., Konovalov, V., Le Bris, R., M√∂lg, N., Nosenko, G., Nuth, C., Pope, A., Racoviteanu, A., Rastner, P., Raup, B., Scharrer, K., Steffen, S., and Winsvold, S. (2013). On the Accuracy of Glacier Outlines Derived from Remote-Sensing Data. Annals of Glaciology, 54(63), 171‚Äì82. doi: 10.3189/2013AoG63A296.</p></li>
<li><p>[<a class="reference external" href="https://doi.org/10.1038/s41558-017-0049-x" rel="noreferrer" target="_blank">5</a>] Huss, M., and Hock, R. (2018). Global-scale hydrological response to future glacier mass loss, Nature Climate Change, 8, 135‚Äì140 (2018), doi: 10.1038/s41558-017-0049-x.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Satellite_ECVs/Cryosphere"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Cryosphere.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1.3. </span>Cryosphere</p>
      </div>
    </a>
    <a class="right-next"
       href="../Land_Biosphere/Land_Biosphere.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">1.4. </span>Land Biosphere</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-case-assessing-the-spatial-distribution-of-glaciers-and-the-total-glacier-area-in-the-context-of-water-resource-management-at-the-local-regional-and-global-scale">üåç Use case: Assessing the spatial distribution of glaciers and the total glacier area in the context of water resource management at the local, regional, and global scale</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assessment-question">‚ùì Quality assessment question</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assessment-statements">üì¢ Quality assessment statements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methodology">üìã Methodology</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-description">Dataset description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-and-sub-sections">Structure and (sub)sections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-and-results">üìà Analysis and results</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preparation-and-processing">1. Data preparation and processing</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#import-packages">1.1 Import packages</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#define-request-and-download">1.2 Define request and download</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#display-and-inspect-data">1.3 Display and inspect data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spatial-distribution-of-glaciers-and-glacier-area">2. Spatial distribution of glaciers and glacier area</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pixel-by-pixel-fractional-glacierized-area-in-the-raster-data">2.1 Pixel-by-pixel fractional glacierized area in the raster data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pixel-by-pixel-absolute-glacierized-area-in-the-raster-data">2.2 Pixel-by-pixel absolute glacierized area in the raster data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#individual-glacier-area-in-the-vector-data">2.3 Individual glacier area in the vector data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regional-and-global-comparison-of-the-vector-and-raster-product">3. Regional and global comparison of the vector and raster product</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#quantification-of-global-glacier-area-differences">3.1 Quantification of global glacier area differences</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#regional-glacier-area-differences-between-raster-and-vector-data">3.2 Regional glacier area differences between raster and vector data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#short-summary-and-take-home-messages">4. Short summary and take-home messages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-if-you-want-to-know-more">‚ÑπÔ∏è If you want to know more</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-resources">Key resources</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By the Copernicus Climate Change Service (C3S), entrusted to ECMWF (European Centre for Medium-Range Weather Forecasts)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>